 # VS Code OpenAI Assistant - Проектная документация

VS Code OpenAI Assistant - это расширение для Visual Studio Code, которое интегрирует возможности OpenAI для анализа кода, помощи в разработке и исправления ошибок. Расширение предоставляет интуитивный интерфейс для взаимодействия с AI, позволяя разработчикам получать контекстно-зависимую помощь прямо в их IDE.


https://github.com/user-attachments/assets/56ca3f0c-a7f1-4161-93c5-dca361f9e655

## Бизнес-требования

### Функциональные требования

1. Интеграция с OpenAI API
   - Отправка запросов к API
   - Обработка ответов
   - Управление API ключом

2. Работа с файлами
   - Чтение содержимого файлов
   - Анализ текущего открытого файла
   - Выбор файла из списка открытых файлов
   - Отображение информации о выбранном файле

3. Пользовательский интерфейс
   - Текстовое поле для ввода запроса
   - Выпадающий список для выбора файла
   - Область отображения ответов
   - Поддержка Markdown в ответах

4. Анализ кода
   - Обнаружение проблем в коде
   - Предложение исправлений
   - Интерактивное применение исправлений

### Нефункциональные требования

####  Производительность
- Время отклика UI 
- Время получения ответа от API 
- Поддержка файлов размером до 100KB

####  Безопасность


####  Надежность
- Обработка ошибок сети
- Сохранение состояния сессии



###  Архитектура системы

<img width="738" alt="image" src="https://github.com/user-attachments/assets/4aad31d0-3956-4bea-8b15-fcf11fa0f080" />

###  Компоненты системы

####  Extension Core
- Активация расширения
- Управление жизненным циклом
- Обработка команд VS Code

####  WebView UI
- Пользовательский интерфейс
- Обработка событий
- Отображение результатов

####  File Manager
- Работа с файловой системой
- Управление открытыми файлами
- Чтение содержимого файлов

####  API Client
- Интеграция с OpenAI
- Управление запросами
- Обработка ответов

###  Диаграмма последовательности

<img width="693" alt="image" src="https://github.com/user-attachments/assets/72aa78a7-d0d8-4f8a-a324-2e64d3182213" />


##  User Stories

###  Основные сценарии

#### US-1: Анализ кода
Как разработчик,  
Я хочу получить анализ моего кода,  
Чтобы улучшить его качество и найти потенциальные проблемы.

**Критерии приемки:**
- Возможность выбрать файл для анализа
- Получение понятных рекомендаций
- Возможность применить предложенные изменения

#### US-2: Контекстная помощь
Как разработчик,  
Я хочу получать помощь с учетом контекста текущего файла,  
Чтобы получать более релевантные ответы.

**Критерии приемки:**
- Автоматическое определение контекста
- Учет содержимого файла в запросах
- Возможность выбора файла для контекста

#### US-3: Управление файлами
Как разработчик,  
Я хочу иметь удобный доступ к открытым файлам,  
Чтобы быстро переключаться между ними при работе с AI.

**Критерии приемки:**
- Список всех открытых файлов
- Возможность выбора "без файла"
- Отображение текущего выбранного файла

##  Use Cases


<img width="731" alt="image" src="https://github.com/user-attachments/assets/d4aac7c5-63e4-4b26-bafc-8c8c4f786472" />


#### UC-1: Отправка запроса
**Актор:** Разработчик  
**Предусловия:** Расширение активировано  
**Основной поток:**
1. Разработчик выбирает файл из списка
2. Вводит текст запроса
3. Нажимает кнопку "Отправить"
4. Система отправляет запрос в OpenAI
5. Система отображает ответ

#### UC-2: Применение исправлений
**Актор:** Разработчик  
**Предусловия:** Получены предложения по исправлению  
**Основной поток:**
1. Система показывает предложенные изменения
2. Разработчик просматривает изменения
3. Разработчик применяет выбранные исправления
4. Система обновляет код

##  Интеграция с OpenAI API

###  Параметры API
- Модель: GPT-4o
- Температура: 0.3
- Таймаут: 30 секунд


##  BPMN Процессы

###  Основной процесс работы

<img width="977" alt="image" src="https://github.com/user-attachments/assets/1c5ed7ec-7fbf-4d90-be75-45fc71dbc7cc" />



##  Технические спецификации

###  Стек технологий
- TypeScript
- VS Code Extension API
- WebView API
- OpenAI API
- Node.js

###  Зависимости
- vscode
- marked (для Markdown)
- node-fetch (для API запросов)
